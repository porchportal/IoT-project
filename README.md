# Hand Gesture Control System

‡∏£‡∏∞‡∏ö‡∏ö‡∏Ñ‡∏ß‡∏ö‡∏Ñ‡∏∏‡∏°‡∏≠‡∏∏‡∏õ‡∏Å‡∏£‡∏ì‡πå‡∏ú‡πà‡∏≤‡∏ô‡∏ó‡πà‡∏≤‡∏ó‡∏≤‡∏á‡∏°‡∏∑‡∏≠‡πÅ‡∏ö‡∏ö‡πÄ‡∏£‡∏µ‡∏¢‡∏•‡πÑ‡∏ó‡∏°‡πå‡∏ó‡∏µ‡πà‡πÉ‡∏ä‡πâ AI ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡∏ï‡∏£‡∏ß‡∏à‡∏à‡∏±‡∏ö‡∏°‡∏∑‡∏≠‡πÅ‡∏•‡∏∞‡∏Ñ‡∏ß‡∏ö‡∏Ñ‡∏∏‡∏°‡πÅ‡∏ü‡∏•‡∏ä ESP32 Camera

## üåü Features

- **‡∏ï‡∏£‡∏ß‡∏à‡∏à‡∏±‡∏ö‡∏ó‡πà‡∏≤‡∏ó‡∏≤‡∏á‡∏°‡∏∑‡∏≠‡πÅ‡∏ö‡∏ö‡πÄ‡∏£‡∏µ‡∏¢‡∏•‡πÑ‡∏ó‡∏°‡πå** ‡∏î‡πâ‡∏ß‡∏¢ MediaPipe
- **‡∏Ñ‡∏ß‡∏ö‡∏Ñ‡∏∏‡∏°‡πÅ‡∏ü‡∏•‡∏ä ESP32** ‡∏ú‡πà‡∏≤‡∏ô HTTP requests
- **3 ‡πÇ‡∏´‡∏°‡∏î‡∏Å‡∏≤‡∏£‡∏ó‡∏≥‡∏á‡∏≤‡∏ô**: Normal, Symbol Control, Volume Control
- **‡∏õ‡∏£‡∏±‡∏ö‡∏õ‡∏£‡∏∏‡∏á‡∏õ‡∏£‡∏∞‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡∏†‡∏≤‡∏û** ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡πÅ‡∏ö‡∏ö Real-time
- **‡∏£‡∏≠‡∏á‡∏£‡∏±‡∏ö‡∏Å‡∏•‡πâ‡∏≠‡∏á‡∏´‡∏•‡∏≤‡∏¢‡πÅ‡∏´‡∏•‡πà‡∏á** (ESP32 stream ‡πÅ‡∏•‡∏∞‡∏Å‡∏•‡πâ‡∏≠‡∏á‡πÉ‡∏ô‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á)

## üìã Requirements

### Hardware
- **ESP32-CAM AI Thinker Module** (‡∏û‡∏£‡πâ‡∏≠‡∏° Flash LED)
- **FTDI USB to Serial Adapter** (‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡∏≠‡∏±‡∏õ‡πÇ‡∏´‡∏•‡∏î‡πÇ‡∏Ñ‡πâ‡∏î)
- ‡∏Ñ‡∏≠‡∏°‡∏û‡∏¥‡∏ß‡πÄ‡∏ï‡∏≠‡∏£‡πå‡∏ó‡∏µ‡πà‡∏°‡∏µ‡∏Å‡∏•‡πâ‡∏≠‡∏á (‡∏´‡∏≤‡∏Å‡πÑ‡∏°‡πà‡∏°‡∏µ ESP32)

### Software Dependencies

#### Python Libraries (‡∏£‡∏≠‡∏á‡∏£‡∏±‡∏ö Mirror Server ‡∏à‡∏µ‡∏ô)
```bash
# ‡∏Å‡∏≤‡∏£‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á‡πÅ‡∏ö‡∏ö‡∏°‡∏≤‡∏ï‡∏£‡∏ê‡∏≤‡∏ô
pip install opencv-python mediapipe requests numpy

# ‡∏´‡∏£‡∏∑‡∏≠‡πÉ‡∏ä‡πâ Mirror Server ‡∏à‡∏µ‡∏ô (‡πÄ‡∏£‡πá‡∏ß‡∏Å‡∏ß‡πà‡∏≤)
pip install --timeout=300 opencv-python mediapipe requests numpy -i https://pypi.tuna.tsinghua.edu.cn/simple

# ‡∏´‡∏£‡∏∑‡∏≠‡πÉ‡∏ä‡πâ requirements.txt
pip install --timeout=300 -r requirements.txt -i https://pypi.tuna.tsinghua.edu.cn/simple
```

#### ‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÑ‡∏ü‡∏•‡πå requirements.txt
```text
opencv-python>=4.5.0
mediapipe>=0.10.0
requests>=2.25.0
numpy>=1.21.0
```

### Arduino IDE ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö ESP32
1. ‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á Arduino IDE
2. ‡πÄ‡∏û‡∏¥‡πà‡∏° ESP32 Board Manager URL:
   ```
   https://dl.espressif.com/dl/package_esp32_index.json
   ```
3. ‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á ESP32 boards package
4. ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å Board: "AI Thinker ESP32-CAM"

## ‚öôÔ∏è Configuration

### ‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏ó‡∏µ‡πà 1: ‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤ ESP32-CAM

#### 1.1 ‡∏≠‡∏±‡∏õ‡πÇ‡∏´‡∏•‡∏î‡πÇ‡∏Ñ‡πâ‡∏î ESP32
‡πÉ‡∏ä‡πâ‡πÇ‡∏Ñ‡πâ‡∏î ESP32 ‡∏ó‡∏µ‡πà‡πÉ‡∏´‡πâ‡∏°‡∏≤ (esp32_camera_server.ino):

```cpp
// ‡∏Å‡∏≥‡∏´‡∏ô‡∏î WiFi credentials
const char *ssid = "‡∏ä‡∏∑‡πà‡∏≠_WiFi_‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì";
const char *password = "‡∏£‡∏´‡∏±‡∏™‡∏ú‡πà‡∏≤‡∏ô_WiFi";
```

#### 1.2 ‡∏Å‡∏≤‡∏£‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠‡∏Æ‡∏≤‡∏£‡πå‡∏î‡πÅ‡∏ß‡∏£‡πå ESP32-CAM
- **VCC** ‚Üí 5V
- **GND** ‚Üí GND  
- **U0R** ‚Üí TX ‡∏Ç‡∏≠‡∏á FTDI
- **U0T** ‚Üí RX ‡∏Ç‡∏≠‡∏á FTDI
- **GPIO 0** ‚Üí GND (‡πÄ‡∏â‡∏û‡∏≤‡∏∞‡∏ï‡∏≠‡∏ô‡∏≠‡∏±‡∏õ‡πÇ‡∏´‡∏•‡∏î)
- **RST** ‚Üí ‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏Å‡∏±‡∏ö GND ‡πÅ‡∏•‡πâ‡∏ß‡∏õ‡∏•‡πà‡∏≠‡∏¢ ‡πÄ‡∏û‡∏∑‡πà‡∏≠ Reset

#### 1.3 ‡∏´‡∏•‡∏±‡∏á‡∏≠‡∏±‡∏õ‡πÇ‡∏´‡∏•‡∏î‡πÄ‡∏™‡∏£‡πá‡∏à
1. ‡∏ñ‡∏≠‡∏î GPIO 0 ‡∏à‡∏≤‡∏Å GND
2. Reset ESP32-CAM
3. ‡πÄ‡∏õ‡∏¥‡∏î Serial Monitor (115200 baud)
4. ‡∏à‡∏î‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å IP address ‡∏ó‡∏µ‡πà‡πÅ‡∏™‡∏î‡∏á

### ‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏ó‡∏µ‡πà 2: ‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤ Python Script

‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡∏Ñ‡πà‡∏≤‡πÉ‡∏ô section `CONFIG`:

```python
ESP32_IP = "192.168.x.x"  # ‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡πÄ‡∏õ‡πá‡∏ô IP ‡∏Ç‡∏≠‡∏á ESP32 ‡∏ó‡∏µ‡πà‡πÑ‡∏î‡πâ‡∏à‡∏≤‡∏Å Serial Monitor
```

### ESP32 Endpoints ‡πÅ‡∏•‡∏∞‡∏ü‡∏µ‡πÄ‡∏à‡∏≠‡∏£‡πå
- **Flash ON**: `http://[ESP32_IP]/flash/on`
- **Flash OFF**: `http://[ESP32_IP]/flash/off`  
- **Camera Stream**: `http://[ESP32_IP]/stream`

#### ESP32-CAM Pinout ‡∏ó‡∏µ‡πà‡πÉ‡∏ä‡πâ:
- **Flash LED**: GPIO 4
- **Camera Pins**: ‡∏ï‡∏≤‡∏° AI Thinker ESP32-CAM Standard
  - PWDN: GPIO 32
  - RESET: -1 (‡πÑ‡∏°‡πà‡πÉ‡∏ä‡πâ)
  - XCLK: GPIO 0
  - ‡πÅ‡∏•‡∏∞‡∏≠‡∏∑‡πà‡∏ô‡πÜ ‡∏ï‡∏≤‡∏°‡πÇ‡∏Ñ‡πâ‡∏î

#### ‡∏Ñ‡∏∏‡∏ì‡∏™‡∏°‡∏ö‡∏±‡∏ï‡∏¥ ESP32 Server:
- **MJPEG Streaming**: ‡∏™‡∏ï‡∏£‡∏µ‡∏°‡∏ß‡∏¥‡∏î‡∏µ‡πÇ‡∏≠‡πÅ‡∏ö‡∏ö‡πÄ‡∏£‡∏µ‡∏¢‡∏•‡πÑ‡∏ó‡∏°‡πå
- **Flash Control**: ‡∏Ñ‡∏ß‡∏ö‡∏Ñ‡∏∏‡∏° LED ‡πÅ‡∏ü‡∏•‡∏ä‡∏ú‡πà‡∏≤‡∏ô HTTP GET
- **Auto Frame Size**: ‡∏õ‡∏£‡∏±‡∏ö‡∏Ç‡∏ô‡∏≤‡∏î‡πÄ‡∏ü‡∏£‡∏°‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥‡∏ï‡∏≤‡∏° PSRAM
- **Quality Optimization**: ‡∏õ‡∏£‡∏±‡∏ö‡∏Ñ‡∏∏‡∏ì‡∏†‡∏≤‡∏û‡∏†‡∏≤‡∏û‡∏ï‡∏≤‡∏°‡∏´‡∏ô‡πà‡∏ß‡∏¢‡∏Ñ‡∏ß‡∏≤‡∏°‡∏à‡∏≥

## üéÆ ‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô

### ‡∏Å‡∏≤‡∏£‡∏£‡∏±‡∏ô‡πÇ‡∏õ‡∏£‡πÅ‡∏Å‡∏£‡∏°
```bash
python hand_gesture_control.py
```

### ‡∏õ‡∏∏‡πà‡∏°‡∏Ñ‡∏ß‡∏ö‡∏Ñ‡∏∏‡∏°
- **ESC**: ‡∏≠‡∏≠‡∏Å‡∏à‡∏≤‡∏Å‡πÇ‡∏õ‡∏£‡πÅ‡∏Å‡∏£‡∏°
- **F**: ‡πÄ‡∏õ‡∏¥‡∏î/‡∏õ‡∏¥‡∏î‡πÅ‡∏ü‡∏•‡∏ä‡πÅ‡∏ö‡∏ö Manual

## ü§ñ ‡πÇ‡∏´‡∏°‡∏î‡∏Å‡∏≤‡∏£‡∏ó‡∏≥‡∏á‡∏≤‡∏ô

### 1. NORMAL Mode (‡πÇ‡∏´‡∏°‡∏î‡∏õ‡∏Å‡∏ï‡∏¥)
- **‡∏™‡∏µ‡πÅ‡∏™‡∏î‡∏á**: ‡∏ü‡πâ‡∏≤
- **‡∏ß‡∏¥‡∏ò‡∏µ‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡πÇ‡∏´‡∏°‡∏î**: ‡πÅ‡∏™‡∏î‡∏á‡∏ù‡πà‡∏≤‡∏°‡∏∑‡∏≠‡πÄ‡∏õ‡∏¥‡∏î (5 ‡∏ô‡∏¥‡πâ‡∏ß) ‡πÄ‡∏õ‡πá‡∏ô‡πÄ‡∏ß‡∏•‡∏≤ 1.5 ‡∏ß‡∏¥‡∏ô‡∏≤‡∏ó‡∏µ
- **‡∏Å‡∏≤‡∏£‡∏ó‡∏≥‡∏á‡∏≤‡∏ô**: ‡∏£‡∏≠‡∏£‡∏±‡∏ö‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡πÇ‡∏´‡∏°‡∏î

### 2. SYMBOL Control Mode (‡πÇ‡∏´‡∏°‡∏î‡∏Ñ‡∏ß‡∏ö‡∏Ñ‡∏∏‡∏°‡∏™‡∏±‡∏ç‡∏•‡∏±‡∏Å‡∏©‡∏ì‡πå)
- **‡∏™‡∏µ‡πÅ‡∏™‡∏î‡∏á**: ‡πÄ‡∏´‡∏•‡∏∑‡∏≠‡∏á
- **‡∏Å‡∏≤‡∏£‡∏Ñ‡∏ß‡∏ö‡∏Ñ‡∏∏‡∏°‡πÅ‡∏ü‡∏•‡∏ä**: 
  - ‡∏Å‡∏≥‡∏°‡∏∑‡∏≠ (Fist) = ‡πÄ‡∏õ‡∏¥‡∏î‡πÅ‡∏ü‡∏•‡∏ä
  - ‡∏°‡∏∑‡∏≠‡πÄ‡∏õ‡∏¥‡∏î = ‡∏õ‡∏¥‡∏î‡πÅ‡∏ü‡∏•‡∏ä
- **‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡πÇ‡∏´‡∏°‡∏î**:
  - ‡πÅ‡∏™‡∏î‡∏á‡∏ù‡πà‡∏≤‡∏°‡∏∑‡∏≠‡∏ã‡πâ‡∏≤‡∏¢‡πÄ‡∏õ‡∏¥‡∏î (5 ‡∏ô‡∏¥‡πâ‡∏ß) 1.5 ‡∏ß‡∏¥‡∏ô‡∏≤‡∏ó‡∏µ ‚Üí Volume Control
  - ‡∏ó‡∏≥‡∏™‡∏±‡∏ç‡∏•‡∏±‡∏Å‡∏©‡∏ì‡πå OK ‡πÄ‡∏õ‡πá‡∏ô‡πÄ‡∏ß‡∏•‡∏≤ 0.8 ‡∏ß‡∏¥‡∏ô‡∏≤‡∏ó‡∏µ ‚Üí Normal

### 3. VOLUME Control Mode (‡πÇ‡∏´‡∏°‡∏î‡∏Ñ‡∏ß‡∏ö‡∏Ñ‡∏∏‡∏°‡πÄ‡∏™‡∏µ‡∏¢‡∏á)
- **‡∏™‡∏µ‡πÅ‡∏™‡∏î‡∏á**: ‡πÄ‡∏´‡∏•‡∏∑‡∏≠‡∏á‡∏™‡∏ß‡πà‡∏≤‡∏á
- **‡∏Å‡∏≤‡∏£‡∏Ñ‡∏ß‡∏ö‡∏Ñ‡∏∏‡∏°**: ‡∏£‡∏∞‡∏¢‡∏∞‡∏´‡πà‡∏≤‡∏á‡∏ô‡∏¥‡πâ‡∏ß‡∏´‡∏±‡∏ß‡πÅ‡∏°‡πà‡∏°‡∏∑‡∏≠‡πÅ‡∏•‡∏∞‡∏ô‡∏¥‡πâ‡∏ß‡∏ä‡∏µ‡πâ‡∏°‡∏∑‡∏≠‡∏ã‡πâ‡∏≤‡∏¢
  - ‡∏£‡∏∞‡∏¢‡∏∞‡πÉ‡∏Å‡∏•‡πâ = ‡πÄ‡∏™‡∏µ‡∏¢‡∏á‡∏ï‡πà‡∏≥ (0%)
  - ‡∏£‡∏∞‡∏¢‡∏∞‡πÑ‡∏Å‡∏• = ‡πÄ‡∏™‡∏µ‡∏¢‡∏á‡∏™‡∏π‡∏á (100%)
- **‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡πÇ‡∏´‡∏°‡∏î**:
  - ‡πÅ‡∏™‡∏î‡∏á‡∏ù‡πà‡∏≤‡∏°‡∏∑‡∏≠‡∏Ç‡∏ß‡∏≤‡πÄ‡∏õ‡∏¥‡∏î (5 ‡∏ô‡∏¥‡πâ‡∏ß) 1.5 ‡∏ß‡∏¥‡∏ô‡∏≤‡∏ó‡∏µ ‚Üí Symbol Control
  - ‡∏ó‡∏≥‡∏™‡∏±‡∏ç‡∏•‡∏±‡∏Å‡∏©‡∏ì‡πå OK ‡πÄ‡∏õ‡πá‡∏ô‡πÄ‡∏ß‡∏•‡∏≤ 0.8 ‡∏ß‡∏¥‡∏ô‡∏≤‡∏ó‡∏µ ‚Üí Normal

## üîß Technical Details

### ‡∏Å‡∏≤‡∏£‡∏ï‡∏£‡∏ß‡∏à‡∏à‡∏±‡∏ö‡∏ó‡πà‡∏≤‡∏ó‡∏≤‡∏á‡∏°‡∏∑‡∏≠

#### ‡∏ó‡πà‡∏≤‡∏ó‡∏≤‡∏á‡∏ó‡∏µ‡πà‡∏£‡∏≠‡∏á‡∏£‡∏±‡∏ö:
1. **Open Hand (‡∏ù‡πà‡∏≤‡∏°‡∏∑‡∏≠‡πÄ‡∏õ‡∏¥‡∏î)**: 5 ‡∏ô‡∏¥‡πâ‡∏ß‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î‡πÄ‡∏õ‡∏¥‡∏î
2. **Fist (‡∏Å‡∏≥‡∏°‡∏∑‡∏≠)**: ‡∏ô‡∏¥‡πâ‡∏ß‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î‡∏´‡∏∏‡∏ö
3. **OK Symbol**: ‡∏ô‡∏¥‡πâ‡∏ß‡∏´‡∏±‡∏ß‡πÅ‡∏°‡πà‡∏°‡∏∑‡∏≠‡πÅ‡∏•‡∏∞‡∏ô‡∏¥‡πâ‡∏ß‡∏ä‡∏µ‡πâ‡πÅ‡∏ï‡∏∞‡∏Å‡∏±‡∏ô ‡∏ô‡∏¥‡πâ‡∏ß‡∏≠‡∏∑‡πà‡∏ô‡πÄ‡∏õ‡∏¥‡∏î
4. **Finger Count**: ‡∏ô‡∏±‡∏ö‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏ô‡∏¥‡πâ‡∏ß‡∏ó‡∏µ‡πà‡πÄ‡∏õ‡∏¥‡∏î

#### ‡∏Å‡∏≤‡∏£‡∏õ‡∏£‡∏±‡∏ö‡∏õ‡∏£‡∏∏‡∏á‡∏õ‡∏£‡∏∞‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡∏†‡∏≤‡∏û:
- **Frame Skipping**: ‡∏õ‡∏£‡∏∞‡∏°‡∏ß‡∏•‡∏ú‡∏•‡∏ó‡∏∏‡∏Å 3 ‡πÄ‡∏ü‡∏£‡∏°
- **Optimized Detection**: ‡∏õ‡∏£‡∏±‡∏ö‡∏Ñ‡πà‡∏≤ confidence ‡πÅ‡∏•‡∏∞ tracking
- **Fast Calculations**: ‡πÉ‡∏ä‡πâ‡∏Å‡∏≤‡∏£‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì‡πÅ‡∏ö‡∏ö‡πÄ‡∏£‡πá‡∏ß‡∏Ç‡∏∂‡πâ‡∏ô
- **Reduced History**: ‡∏•‡∏î‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏õ‡∏£‡∏∞‡∏ß‡∏±‡∏ï‡∏¥‡∏ó‡∏µ‡πà‡πÄ‡∏Å‡πá‡∏ö

### MediaPipe Configuration
```python
hands = mp_hands.Hands(
    static_image_mode=False,
    max_num_hands=2,                # ‡∏£‡∏≠‡∏á‡∏£‡∏±‡∏ö 2 ‡∏°‡∏∑‡∏≠
    min_detection_confidence=0.7,   # ‡∏Ñ‡∏ß‡∏≤‡∏°‡πÅ‡∏°‡πà‡∏ô‡∏¢‡∏≥‡∏Å‡∏≤‡∏£‡∏ï‡∏£‡∏ß‡∏à‡∏à‡∏±‡∏ö
    min_tracking_confidence=0.7,    # ‡∏Ñ‡∏ß‡∏≤‡∏°‡πÅ‡∏°‡πà‡∏ô‡∏¢‡∏≥‡∏Å‡∏≤‡∏£‡∏ï‡∏¥‡∏î‡∏ï‡∏≤‡∏°
    model_complexity=1              # ‡πÇ‡∏°‡πÄ‡∏î‡∏•‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ã‡∏±‡∏ö‡∏ã‡πâ‡∏≠‡∏ô‡∏Å‡∏•‡∏≤‡∏á
)
```

### ‡∏Ñ‡πà‡∏≤‡∏Å‡∏≤‡∏£‡∏õ‡∏£‡∏±‡∏ö‡πÅ‡∏ï‡πà‡∏á
```python
OPEN_HAND_DURATION = 1.5    # ‡πÄ‡∏ß‡∏•‡∏≤‡πÅ‡∏™‡∏î‡∏á‡∏ù‡πà‡∏≤‡∏°‡∏∑‡∏≠‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡πÇ‡∏´‡∏°‡∏î
OK_HOLD_DURATION = 0.8      # ‡πÄ‡∏ß‡∏•‡∏≤‡∏ó‡∏≥‡∏™‡∏±‡∏ç‡∏•‡∏±‡∏Å‡∏©‡∏ì‡πå OK
MAX_DISTANCE = 0.35         # ‡∏£‡∏∞‡∏¢‡∏∞‡∏™‡∏π‡∏á‡∏™‡∏∏‡∏î‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö Volume Control
MIN_DISTANCE = 0.02         # ‡∏£‡∏∞‡∏¢‡∏∞‡∏ï‡πà‡∏≥‡∏™‡∏∏‡∏î‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö Volume Control
```

## üöÄ ‡∏Å‡∏≤‡∏£‡∏õ‡∏£‡∏±‡∏ö‡∏õ‡∏£‡∏∏‡∏á‡∏õ‡∏£‡∏∞‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡∏†‡∏≤‡∏û

### ‡πÄ‡∏ó‡∏Ñ‡∏ô‡∏¥‡∏Ñ‡∏ó‡∏µ‡πà‡πÉ‡∏ä‡πâ:
1. **Frame Processing Optimization**: ‡∏õ‡∏£‡∏∞‡∏°‡∏ß‡∏•‡∏ú‡∏•‡πÄ‡∏ü‡∏£‡∏°‡πÑ‡∏°‡πà‡∏ï‡πà‡∏≠‡πÄ‡∏ô‡∏∑‡πà‡∏≠‡∏á
2. **Fast Distance Calculation**: ‡πÉ‡∏ä‡πâ‡∏£‡∏∞‡∏¢‡∏∞‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏™‡∏≠‡∏á‡πÅ‡∏ó‡∏ô square root
3. **Simplified Gesture Detection**: ‡∏•‡∏î‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ã‡∏±‡∏ö‡∏ã‡πâ‡∏≠‡∏ô‡∏Å‡∏≤‡∏£‡∏ï‡∏£‡∏ß‡∏à‡∏à‡∏±‡∏ö
4. **Reduced Memory Usage**: ‡πÉ‡∏ä‡πâ deque ‡∏à‡∏≥‡∏Å‡∏±‡∏î‡∏Ç‡∏ô‡∏≤‡∏î
5. **Silent Fail HTTP Requests**: ‡πÑ‡∏°‡πà‡πÅ‡∏™‡∏î‡∏á error ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏£‡πá‡∏ß

## üõ†Ô∏è ‡∏Å‡∏≤‡∏£‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡∏õ‡∏±‡∏ç‡∏´‡∏≤

### ESP32-CAM ‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏≠‡∏±‡∏õ‡πÇ‡∏´‡∏•‡∏î‡πÑ‡∏î‡πâ
1. **‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏Å‡∏≤‡∏£‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠ FTDI**:
   - VCC ‚Üí 5V (‡∏´‡∏£‡∏∑‡∏≠ 3.3V ‡∏ï‡∏≤‡∏° FTDI)
   - GND ‚Üí GND
   - TX ‚Üí U0R
   - RX ‚Üí U0T
2. **‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà Programming Mode**:
   - ‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏° GPIO 0 ‡∏Å‡∏±‡∏ö GND
   - ‡∏Å‡∏î Reset ‡∏ö‡∏ô ESP32-CAM
   - ‡∏≠‡∏±‡∏õ‡πÇ‡∏´‡∏•‡∏î‡πÇ‡∏Ñ‡πâ‡∏î
   - ‡∏ñ‡∏≠‡∏î GPIO 0 ‡∏à‡∏≤‡∏Å GND
   - Reset ‡∏≠‡∏µ‡∏Å‡∏Ñ‡∏£‡∏±‡πâ‡∏á

### ‡∏Å‡∏•‡πâ‡∏≠‡∏á‡πÑ‡∏°‡πà‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠‡πÑ‡∏î‡πâ
1. **‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö Serial Monitor**:
   ```
   WiFi connected
   IP address: 192.168.x.x
   Camera Ready! Use:
     Flash ON:  http://192.168.x.x/flash/on
     Flash OFF: http://192.168.x.x/flash/off
     Stream:    http://192.168.x.x/stream
   ```
2. **‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡∏Å‡∏≤‡∏£‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠**:
   - Ping IP address: `ping 192.168.x.x`
   - ‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡πÉ‡∏ô browser: `http://192.168.x.x/stream`
3. **‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö WiFi**:
   - SSID ‡πÅ‡∏•‡∏∞ Password ‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á
   - ESP32 ‡πÅ‡∏•‡∏∞‡∏Ñ‡∏≠‡∏°‡∏û‡∏¥‡∏ß‡πÄ‡∏ï‡∏≠‡∏£‡πå‡∏≠‡∏¢‡∏π‡πà‡πÉ‡∏ô Network ‡πÄ‡∏î‡∏µ‡∏¢‡∏ß‡∏Å‡∏±‡∏ô

### ‡∏Å‡∏≤‡∏£‡∏ï‡∏£‡∏ß‡∏à‡∏à‡∏±‡∏ö‡πÑ‡∏°‡πà‡πÅ‡∏°‡πà‡∏ô‡∏¢‡∏≥
1. **‡∏õ‡∏£‡∏±‡∏ö‡πÅ‡∏™‡∏á**: ‡πÉ‡∏ä‡πâ‡πÅ‡∏™‡∏á‡πÄ‡∏û‡∏µ‡∏¢‡∏á‡∏û‡∏≠‡πÅ‡∏•‡∏∞‡∏™‡∏°‡πà‡∏≥‡πÄ‡∏™‡∏°‡∏≠
2. **‡∏û‡∏∑‡πâ‡∏ô‡∏´‡∏•‡∏±‡∏á**: ‡πÉ‡∏ä‡πâ‡∏û‡∏∑‡πâ‡∏ô‡∏´‡∏•‡∏±‡∏á‡πÄ‡∏£‡∏µ‡∏¢‡∏ö‡πÜ ‡πÑ‡∏°‡πà‡∏ã‡∏±‡∏ö‡∏ã‡πâ‡∏≠‡∏ô  
3. **‡∏£‡∏∞‡∏¢‡∏∞‡∏´‡πà‡∏≤‡∏á**: ‡∏ß‡∏≤‡∏á‡∏°‡∏∑‡∏≠‡∏´‡πà‡∏≤‡∏á‡∏à‡∏≤‡∏Å‡∏Å‡∏•‡πâ‡∏≠‡∏á 30-60 ‡∏ã‡∏°.
4. **‡∏õ‡∏£‡∏±‡∏ö‡∏Ñ‡πà‡∏≤‡πÉ‡∏ô Code**:
   ```python
   min_detection_confidence=0.5,  # ‡∏•‡∏î‡∏•‡∏á‡∏´‡∏≤‡∏Å‡∏ï‡∏£‡∏ß‡∏à‡∏à‡∏±‡∏ö‡∏¢‡∏≤‡∏Å
   min_tracking_confidence=0.5    # ‡∏•‡∏î‡∏•‡∏á‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏™‡∏ñ‡∏µ‡∏¢‡∏£
   ```

### ‡∏õ‡∏£‡∏∞‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡∏†‡∏≤‡∏û‡∏ä‡πâ‡∏≤
1. **‡∏õ‡∏£‡∏±‡∏ö Frame Processing**:
   ```python
   # ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏Ñ‡πà‡∏≤ skip_counter ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö FPS ‡∏ï‡πà‡∏≥‡∏Å‡∏ß‡πà‡∏≤
   if skip_counter >= 5:  # ‡πÅ‡∏ó‡∏ô 3
   ```
2. **‡∏•‡∏î Resolution**:
   ```python
   cap.set(cv2.CAP_PROP_FRAME_WIDTH, 320)   # ‡πÅ‡∏ó‡∏ô 640
   cap.set(cv2.CAP_PROP_FRAME_HEIGHT, 240)  # ‡πÅ‡∏ó‡∏ô 480
   ```
3. **‡∏õ‡∏£‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤ ESP32**:
   ```cpp
   config.frame_size = FRAMESIZE_QVGA;  // ‡πÉ‡∏ä‡πâ‡∏Ç‡∏ô‡∏≤‡∏î‡πÄ‡∏•‡πá‡∏Å‡∏Å‡∏ß‡πà‡∏≤
   config.jpeg_quality = 15;            // ‡∏•‡∏î‡∏Ñ‡∏∏‡∏ì‡∏†‡∏≤‡∏û‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏£‡πá‡∏ß
   ```

### ‡πÅ‡∏ü‡∏•‡∏ä LED ‡πÑ‡∏°‡πà‡∏ó‡∏≥‡∏á‡∏≤‡∏ô
1. **‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö GPIO**: GPIO 4 ‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á
2. **‡∏ó‡∏î‡∏™‡∏≠‡∏ö Manual**: `http://[ESP32_IP]/flash/on`
3. **‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö Hardware**: LED ‡∏≠‡∏≤‡∏à‡πÄ‡∏™‡∏µ‡∏¢‡∏´‡∏≤‡∏¢‡∏´‡∏£‡∏∑‡∏≠‡∏ï‡πâ‡∏≠‡∏á‡πÉ‡∏ä‡πâ‡πÅ‡∏£‡∏á‡∏î‡∏±‡∏ô‡∏™‡∏π‡∏á‡∏Å‡∏ß‡πà‡∏≤

## üìä Status Display

### ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ó‡∏µ‡πà‡πÅ‡∏™‡∏î‡∏á‡∏ö‡∏ô‡∏´‡∏ô‡πâ‡∏≤‡∏à‡∏≠:
- **Mode**: ‡πÇ‡∏´‡∏°‡∏î‡∏õ‡∏±‡∏à‡∏à‡∏∏‡∏ö‡∏±‡∏ô (‡∏™‡∏µ‡∏ï‡πà‡∏≤‡∏á‡∏Å‡∏±‡∏ô)
- **Flash Status**: ‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡πÅ‡∏ü‡∏•‡∏ä (‡πÄ‡∏â‡∏û‡∏≤‡∏∞‡πÇ‡∏´‡∏°‡∏î Symbol/Volume)
- **Finger Count**: ‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏ô‡∏¥‡πâ‡∏ß‡πÅ‡∏ï‡πà‡∏•‡∏∞‡∏°‡∏∑‡∏≠ (L=‡∏ã‡πâ‡∏≤‡∏¢, R=‡∏Ç‡∏ß‡∏≤)
- **Volume Level**: ‡∏£‡∏∞‡∏î‡∏±‡∏ö‡πÄ‡∏™‡∏µ‡∏¢‡∏á (‡πÄ‡∏â‡∏û‡∏≤‡∏∞‡πÇ‡∏´‡∏°‡∏î Volume Control)
- **Hand Landmarks**: ‡∏à‡∏∏‡∏î‡πÅ‡∏•‡∏∞‡πÄ‡∏™‡πâ‡∏ô‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏Ç‡∏≠‡∏á‡∏°‡∏∑‡∏≠

## üîÑ Flow ‡∏Å‡∏≤‡∏£‡∏ó‡∏≥‡∏á‡∏≤‡∏ô

```
NORMAL ‚Üí (Open Hand 1.5s) ‚Üí SYMBOL ‚Üí (Left Hand Open 1.5s) ‚Üí VOLUME
   ‚Üë                           ‚Üì                                ‚Üì
   ‚Üê (OK 0.8s) ‚Üê ‚Üê ‚Üê ‚Üê ‚Üê ‚Üê ‚Üê ‚Üê ‚Üê ‚Üê ‚Üê (OK 0.8s) ‚Üê ‚Üê ‚Üê ‚Üê ‚Üê ‚Üê ‚Üê ‚Üê ‚Üê ‚Üê
                            ‚Üì                                    ‚Üë
                     (Right Hand Open 1.5s) ‚Üí ‚Üí ‚Üí ‚Üí ‚Üí ‚Üí ‚Üí ‚Üí ‚Üí ‚Üí ‚Üí
```

## üìÅ ‡πÇ‡∏Ñ‡∏£‡∏á‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÇ‡∏õ‡∏£‡πÄ‡∏à‡∏Å‡∏ï‡πå

```
Hand-Gesture-Control-System/
‚îú‚îÄ‚îÄ hand_gesture_control.py     # Python script ‡∏´‡∏•‡∏±‡∏Å
‚îú‚îÄ‚îÄ esp32_camera_server.ino     # ESP32-CAM server code
‚îú‚îÄ‚îÄ requirements.txt            # Python dependencies
‚îú‚îÄ‚îÄ README.md                   # ‡∏Ñ‡∏π‡πà‡∏°‡∏∑‡∏≠‡∏ô‡∏µ‡πâ
```

## üí° ESP32-CAM Code ‡∏≠‡∏ò‡∏¥‡∏ö‡∏≤‡∏¢

### ‡∏ü‡∏µ‡πÄ‡∏à‡∏≠‡∏£‡πå‡∏´‡∏•‡∏±‡∏Å
```cpp
// ‡∏Å‡∏≥‡∏´‡∏ô‡∏î‡∏û‡∏¥‡∏ô AI Thinker ESP32-CAM
#define LED_GPIO_NUM 4          // ‡∏Ç‡∏≤‡πÅ‡∏ü‡∏•‡∏ä LED

// ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡∏´‡∏•‡∏±‡∏Å
handleFlashOn()    // ‡πÄ‡∏õ‡∏¥‡∏î‡πÅ‡∏ü‡∏•‡∏ä
handleFlashOff()   // ‡∏õ‡∏¥‡∏î‡πÅ‡∏ü‡∏•‡∏ä  
handleStream()     // ‡∏™‡∏ï‡∏£‡∏µ‡∏° MJPEG
```

### ‡∏Å‡∏≤‡∏£‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤‡∏Å‡∏•‡πâ‡∏≠‡∏á
- **Frame Size**: FRAMESIZE_UXGA (‡∏´‡∏≤‡∏Å‡∏°‡∏µ PSRAM), FRAMESIZE_SVGA (‡∏´‡∏≤‡∏Å‡πÑ‡∏°‡πà‡∏°‡∏µ)
- **JPEG Quality**: 10-12 (‡∏ï‡πà‡∏≥‡∏Å‡∏ß‡πà‡∏≤ = ‡∏Ñ‡∏∏‡∏ì‡∏†‡∏≤‡∏û‡∏î‡∏µ‡∏Å‡∏ß‡πà‡∏≤)
- **Frame Buffer**: 2 buffers (‡∏´‡∏≤‡∏Å‡∏°‡∏µ PSRAM)
- **Grab Mode**: CAMERA_GRAB_LATEST

## üöÄ ‡∏Å‡∏≤‡∏£‡∏û‡∏±‡∏í‡∏ô‡∏≤‡∏ï‡πà‡∏≠

### ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏ó‡πà‡∏≤‡∏ó‡∏≤‡∏á‡πÉ‡∏´‡∏°‡πà:
1. **‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡∏ï‡∏£‡∏ß‡∏à‡∏à‡∏±‡∏ö**:
   ```python
   def is_thumbs_up_fast(landmarks):
       # ‡πÉ‡∏ä‡πâ‡∏ï‡∏£‡∏£‡∏Å‡∏∞‡∏ï‡∏£‡∏ß‡∏à‡∏à‡∏±‡∏ö‡∏ó‡πà‡∏≤‡∏ó‡∏≤‡∏á thumbs up
       pass
   ```

2. **‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏Å‡∏≤‡∏£‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡πÉ‡∏ô‡πÇ‡∏´‡∏°‡∏î**:
   ```python
   # ‡πÉ‡∏ô check_mode_transitions()
   if thumbs_up_detected:
       # ‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡∏ï‡∏≤‡∏°‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£
       pass
   ```

### ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏Å‡∏≤‡∏£‡∏Ñ‡∏ß‡∏ö‡∏Ñ‡∏∏‡∏°‡∏≠‡∏∏‡∏õ‡∏Å‡∏£‡∏ì‡πå‡∏≠‡∏∑‡πà‡∏ô:

#### ‡πÄ‡∏û‡∏¥‡πà‡∏° Servo Motor
```cpp
// ‡πÉ‡∏ô ESP32 code
#include <ESP32Servo.h>
Servo myservo;

void handleServoMove() {
  int angle = server.arg("angle").toInt();
  myservo.write(angle);
  server.send(200, "text/plain", "Servo moved to " + String(angle));
}
```

#### ‡πÄ‡∏û‡∏¥‡πà‡∏° RGB LED
```cpp
// ‡∏Ñ‡∏ß‡∏ö‡∏Ñ‡∏∏‡∏° RGB LED
#define RED_PIN 12
#define GREEN_PIN 13  
#define BLUE_PIN 14

void handleColorChange() {
  int r = server.arg("r").toInt();
  int g = server.arg("g").toInt();
  int b = server.arg("b").toInt();
  
  analogWrite(RED_PIN, r);
  analogWrite(GREEN_PIN, g);
  analogWrite(BLUE_PIN, b);
  
  server.send(200, "text/plain", "Color changed");
}
```

### ‡∏õ‡∏£‡∏±‡∏ö‡∏õ‡∏£‡∏∏‡∏á UI
```python
def draw_advanced_ui(frame):
    # ‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÅ‡∏ñ‡∏ö‡∏™‡∏µ ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡πÇ‡∏´‡∏°‡∏î
    cv2.rectangle(frame, (0, 0), (frame.shape[1], 30), mode_color, -1)
    
    # ‡πÄ‡∏û‡∏¥‡πà‡∏° progress bar ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö transition
    if mode_transition_start_time:
        progress = (time.time() - mode_transition_start_time) / OPEN_HAND_DURATION
        bar_width = int(200 * min(progress, 1.0))
        cv2.rectangle(frame, (20, 50), (20 + bar_width, 70), (0, 255, 0), -1)
```

---

**‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏´‡∏ï‡∏∏**: ‡πÇ‡∏õ‡∏£‡πÅ‡∏Å‡∏£‡∏°‡∏ô‡∏µ‡πâ‡∏≠‡∏≠‡∏Å‡πÅ‡∏ö‡∏ö‡∏°‡∏≤‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏Å‡∏≤‡∏£‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏£‡∏π‡πâ‡πÅ‡∏•‡∏∞‡∏ó‡∏î‡∏•‡∏≠‡∏á ‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏£‡∏∞‡∏°‡∏±‡∏î‡∏£‡∏∞‡∏ß‡∏±‡∏á